<!--Name: Ko Jia Ling
    Admin no.: 190681D-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Settings</title>
  <link rel="stylesheet" href="bootstrap-4.3.1-dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/settings.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="bootstrap-4.3.1-dist/jquery-3.4.1.min.js"></script>
  <script src="bootstrap-4.3.1-dist/js/bootstrap.min.js"></script>
  <script src="js/main.js"></script>
  <script src="js/sha1.js"></script>
  <script src="js/settings.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-md navbar-light">
    <a class="navbar-brand retro" href="index.html">RETROGRADE</a>
    <div class="navbar-toggler navbar-toggler-icon p-0" data-toggle="collapse" data-target="#collapsibleNavbar">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="games.html">GAMES</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="community.html">COMMUNITY</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="contact.html">CONTACT</a>
        </li>
        <li class="nav-item dropdown" id="data">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            DATA
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="formData.html">FORM DATA</a>
            <a class="dropdown-item" href="redemptionData.html">REDEMPTION DATA</a>
          </div>
        </li>
      </ul>
    </div>

    <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li id="loginSignUp">
          <a class="nav-link" href="login.html"><i class="fa fa-user" aria-hidden="true"></i> LOG IN | SIGN UP</a>
        </li>

        <div class="dropdown dropdown-menu-right" id="profileDropdown">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img src="" alt="">
          </button>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="redemption.html">REDEMPTION</a>
            <a class="dropdown-item" href="#" onclick="viewOwnProfile()"><i class="fa fa-user"></i> PROFILE</a>
            <a class="dropdown-item active" href="settings.html"><i class="fa fa-wrench"></i> SETTINGS</a>
            <a class="dropdown-item" href="#" onclick="logOut()"><i class="fa fa-sign-out" aria-hidden="true"></i> LOG OUT</a>
          </div>
        </div>
      </ul>
    </div>
  </nav>

<div class="container">
  <div class="row justify-content-center"  id="userInfo">
    <div class="col-md-3">
      <img class="mt-2" src="" alt="profilePicture" id="profilePic">
      <button class="btn btn-secondary d-block mb-4" data-toggle="modal" data-target="#profilePicModal" id="changeProfilePic">Change</button>
      <p id="referralCode">Referral Code: </p>
    </div> <!--Profile picture-->


    <div class="col-md-6">
      <form id="updateUser" action="" method="post" onsubmit="return updateUsernamePassword()">
        <div class="form-group">
          <label for="username" class="bigPixel-light">Username</label>
          <input class="form-control" type="text" id="username" pattern="^[0-9a-zA-Z_]+$" onkeyup="checkUsernameAvailable(this.value);" tabindex="1">
          <p id="usernameAvailable"><i class="fa fa-check" aria-hidden="true"></i> Username is available</p>
          <p id="usernameTaken"><i class="fa fa-times" aria-hidden="true"></i> Username has been taken</p>
        </div>

        <div class="form-group">
          <label for="password" class="bigPixel-light">Password</label>
          <input class="form-control" type="password" id="password" tabindex="2" onkeyup="checkPasswordRequired(this.value)">
        </div>

        <div class="form-group">
          <label for="newPassword" class="bigPixel-light">New Password</label>
          <input class="form-control" type="password" id="newPassword" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$" tabindex="3">
        </div>

        <button id="updateProfileBtn" class="btn btn-primary mt-2" type="submit">Update</button>
      </form>
  </div> <!--Row 1-->
</div> <!--Container-->

<div class="modal fade text-dark" id="profilePicModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalLabel">Profile Picture</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="row">
          <div class="col-lg-3 col-md-4 col-sm-6">
            <label>
              <input type="radio" name="pfp" value="image/profilePic-pacman.png">
              <img src="image/profilePic-pacman.png" alt="pacman">
            </label>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6">
            <label>
              <input type="radio" name="pfp" value="image/profilePic-pacmanGhost.png">
              <img src="image/profilePic-pacmanGhost.png" alt="pacman ghost">
            </label>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6">
            <label>
              <input type="radio" name="pfp" value="image/profilePic-snake.png">
              <img src="image/profilePic-snake.png" alt="snake">
            </label>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6">
            <label>
              <input type="radio" name="pfp" value="image/profilePic-spaceInvader.png">
              <img src="image/profilePic-spaceInvader.png" alt="space invader">
            </label>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6">
            <label>
              <input type="radio" name="pfp" value="image/profilePic-tetris.png">
              <img src="image/profilePic-tetris.png" alt="tetris">
            </label>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6">
            <label>
              <input type="radio" name="pfp" value="image/profilePic-gameConsole.png">
              <img src="image/profilePic-gameConsole.png" alt="game console">
            </label>
          </div>
        </div>
      </div> <!--Modal body-->

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="updateProfilePicture(); refresh();">Save Changes</button>
      </div>
    </div>
  </div>
</div> <!--Modal-->

</body>
</html>
